# LightDeploy 待办清单（TODOLIST.md）

简短说明：本文件列出 LightDeploy 项目的结构化待办项，覆盖需求、配置设计、工具实现、测试与后续改进，便于直接保存为 `TODOLIST.md` 并跟踪执行。

## 需求与场景
- [ ] 确定目标应用场景（优先级：高）  Owner: @product
    - 验收标准：
        - 列出并确认至少两个主要场景：Minecraft 集成包、云资源部署。
        - 为每个场景写出 2-3 条关键用户故事或任务流。
        - 场景文档已提交到仓库文档目录（示例路径：`docs/scenarios.md`）。
- [ ] 收集用户约束与环境要求（优先级：中）  Owner: @ux
    - 验收标准：
        - 列出操作系统（如 Windows、Linux）、访问权限和网络限制。
        - 明确是否需要无障碍支持（针对 Windows GUI）。
        - 归档为需求清单并评审通过。

## 配置设计
- [ ] 设计配置文件格式与规范（优先级：高）  Owner: @arch
    - 验收标准：
        - 明确定义配置字段、类型和示例（YAML/JSON/自定义），包含版本字段。
        - 提供至少一个完整示例（Minecraft 集成包）与一个云部署示例。
        - 编写格式规范文档并放入 `docs/config-format.md`。
- [ ] 使用 Hashi 路径定义资源映射（优先级：高）  Owner: @arch
    - 验收标准：
        - 提供 Hashi 路径命名规则与示例（表路径示意）。
        - 定义路径到资源（机器/镜像/参数）的映射规则。
        - 在设计文档中包含查找与回退策略说明。

## 命令行工具（CLI）
- [ ] 开发基础 CLI：支持本地配置与指定地址部署（优先级：高）  Owner: @infra
    - 验收标准：
        - CLI 提供命令：init、deploy、status、rollback（示例命令可以运行并返回合理错误码）。
        - README 或帮助文本覆盖参数说明、示例和常见错误处理。
        - 在 CI 中对核心命令执行 smoke-test。
- [ ] 支持通过云账号开通机器与自动注册（优先级：高）  Owner: @infra
    - 验收标准：
        - CLI 能使用云账号凭据调用云接口创建机器（模拟或真实接口的集成测试）。
        - 创建后自动将机器记录到配置中心或资源目录（见“配置中心集成”）。
        - 针对失败情况有重试与幂等处理策略文档。
- [ ] 安全与凭据管理（优先级：高）  Owner: @security
    - 验收标准：
        - CLI 不在日志中泄露敏感凭据，支持凭据文件或环境变量输入。
        - 提供凭据加密存储或推荐的安全实践文档。
        - 通过静态扫描或审计得到初步通过结论。

## 图形界面（GUI）与向导
- [ ] 设计 Windows 优先的图形化安装/部署向导（优先级：中）  Owner: @ux
    - 验收标准：
        - 提供线框图与关键页面流：配置导入、资源选择、运行日志、回滚入口。
        - 向导能完成从选择配置到触发部署的完整示例流程（概念验证）。
        - 包含无障碍支持要点（键盘导航、屏幕阅读器兼容）。
- [ ] GUI 与 CLI 配置互通（优先级：中）  Owner: @frontend
    - 验收标准：
        - GUI 导出的操作能够在 CLI 上重放（导出命令或配置文件）。
        - 配置变更在两端能一致展示与校验。
        - 在用户手册中示例化双向互操作流程。

## 配置中心集成
- [ ] 集成集中式配置中心以管理配置版本（优先级：高）  Owner: @platform
    - 验收标准：
        - 支持配置的版本索引与元数据（作者、时间、变更摘要）。
        - 提供基于版本的回退接口（支持手动与自动回退）。
        - 提供配置的只读/可写权限模型说明。
- [ ] 提供配置索引与回退 UI/接口（优先级：中）  Owner: @platform
    - 验收标准：
        - 能按版本、场景或路径检索配置并查看差异。
        - 能执行单次回退并在日志中记录操作人和时间。
        - 回退操作在测试环境中完成并验证成功。

## 后端 / 前端 实现（均使用 Go）
- [ ] 采用 Go 作为后端与前端核心实现语言（优先级：高）  Owner: @dev
    - 验收标准：
        - 项目结构示例（后端服务、简易前端或桌面 GUI 穿接层）已建档。
        - 核心服务可以用 `go build` 编译通过并产出可运行二进制（最小可运行示例）。
        - 代码风格/格式化与基础 CI 检查通过。
- [ ] 保证性能与一致性（优先级：中）  Owner: @dev
    - 验收标准：
        - 设计并记录关键性能目标（启动时间、请求吞吐等）。
        - 关键路径添加基准测试或简单负载测试脚本。
        - 性能回归在 CI 中受控（或文档化计划）。

## 资源定位与 Hashi 路径查找
- [ ] 统一资源定位规范（优先级：高）  Owner: @arch
    - 验收标准：
        - 明确资源定位流程：Hashi 路径 -> 索引 -> 实际资源。
        - 提供至少两种查找策略示例（直接映射、模糊/前缀匹配）。
        - 编写失败回退策略与错误消息规范。
- [ ] 实现 Hashi 路径查找工具/库（优先级：中）  Owner: @dev
    - 验收标准：
        - 提供可复用的 Go 包，含查询 API 与单元测试。
        - 在示例中用该库定位 Minecraft 包和云镜像成功。

## 测试与验收
- [ ] 完整功能流程测试（优先级：高）  Owner: @qa
    - 验收标准：
        - 从配置创建、资源定位、部署到回退的端到端测试用例覆盖主场景。
        - 自动化测试可在 CI 中运行（或提供本地运行脚本）。
        - 测试报告包含通过/失败明细。
- [ ] 安全性与权限测试（优先级：高）  Owner: @security
    - 验收标准：
        - 对敏感操作（创建云资源、回退）有权限校验并测试。
        - 对凭据和日志进行审计，确认无敏感信息泄露。
        - 提出并记录安全缺陷修复计划（如有）。
- [ ] 用户体验与可用性验收（优先级：中）  Owner: @ux
    - 验收标准：
        - 完成 3 个典型用户流程的可用性测试并记录反馈。
        - GUI 向导的关键步骤经 1-2 名 Windows 用户验证可完成。
        - 修复关键可用性阻碍项并记录验证结果。

## 后续改进（Roadmap）
- [ ] 支持更多云厂商与插件化资源适配（优先级：中）  Owner: @platform
    - 验收标准：
        - 设计插件接口并实现至少一个第三方云适配示例。
        - 文档化插件开发指南。
- [ ] 多环境/多租户支持（优先级：中）  Owner: @platform
    - 验收标准：
        - 提供环境隔离与租户权限模型设计文档。
        - 在测试环境验证隔离效果。
- [ ] 国际化与本地化（优先级：低）  Owner: @ux
    - 验收标准：
        - 支持中文与英文界面切换的基础实现或设计方案。
        - 文档关键说明提供双语版本。

## 里程碑 / 时间线（建议）
- M1（1-2 周）：需求确认、场景与配置格式设计，完成文档草案。
- M2（2-4 周）：实现基础 CLI（local deploy / 指定地址）、Hashi 路径设计与库。
- M3（3-6 周）：集成配置中心、实现版本索引与回退，开始端到端测试。
- M4（4-8 周）：GUI 向导概念验证、性能与安全加固，发布首个内部可用版本。

---

注：Owner 可替换为具体团队或人员（示例：@dev、@infra、@ux、@qa、@security）。请根据项目实际节奏调整里程碑与优先级。
